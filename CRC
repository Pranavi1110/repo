#include <bits/stdc++.h> 
using namespace std; 
string findXor(string a, string b) { 
    int n = b.length(); 
    string r = ""; 
    for (int i = 1; i < n; i++) { 
        if (a[i] == b[i]){ 
            r += "0"  } 
        else{ 
            r+= "1"; } 
    } 
    return r; 
} 
string mod2div(string dividend, string divisor) { 
    int n = dividend.length(); 
    int pick = divisor.length(); 
    string tmp = dividend.substr(0, pick); 
    while (pick < n) { 
        if (tmp[0] == '1'){ 
            tmp = findXor(divisor, tmp) + dividend[pick]; } 
        else{ 
            tmp = findXor(string(pick, '0'), tmp) + dividend[pick]; } 
        pick++; 
    } 
    if (tmp[0] == '1') { 
        tmp = findXor(divisor, tmp); } 
    else { 
        tmp = findXor(string(pick, '0'), tmp); 
    } 
    return tmp; 
} 
string encodeData(string data, string key) { 
    int n = key.length(); 
    string paddedData = data + string(n - 1, '0'); 
    string remainder = mod2div(paddedData, key); 
    return data + remainder; 
} 
int receiver(string code, string key) { 
    string remainder = mod2div(code, key); 
    return (remainder.find('1') == string::npos) ? 1 : 0; 
} 
int main() { 
    string d, k, r; 
    cout << "Enter data (binary): "; 
    cin >> d; 
    cout << "Enter key (binary): "; 
    cin >> k; 
    cout << "\nSender Side\n"; 
    cout << "Data: " << d << endl; 
    cout << "Key: " << k << endl; 
    string c = encodeData(d, k); 
    cout << "Encoded Data: " << c << endl << endl; 
    cout << "\nReceiver Side\n"; 
    cout << "Enter received code: "; 
    cin >> r; 
    if (receiver(r, k)) { 
        cout << "No errors detected in received code" << endl; } 
    else { 
        cout <<"Error detected in received code "<< endl; 
} 
    return 0; 
}

